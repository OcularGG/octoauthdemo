<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Policy</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="https://i.imgur.com/2vsdAdd.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="pages.css">
</head>
<body>
    <div class="sidebar">
        <div class="logo">
            <img src="https://i.imgur.com/2vsdAdd.png" alt="Logo">
        </div>
        <nav>
            <ul>
                <li class="dropdown">
                    <a href="#">About Us</a>
                    <ul class="dropdown-content">
                        <li><a href="litefootz.html">Litefootz's Vision</a></li>
                        <li><a href="history.html">History</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
        <div class="footer">
            <ul>
                <li><a href="terms.html">Terms of Service</a></li>
                <li><a href="privacy.html" class="active">Privacy Policy</a></li>
                <li><a href="acknowledgements.html">Acknowledgements</a></li>
            </ul>
            <button class="get-fuel" onclick="location.href='index.html';">BACK TO HOME</button>
        </div>
    </div>
    <div class="main-content page-content">
        <div class="header">
            <div class="user-menu">
                <span id="loading-status">Checking authentication...</span>
                <button id="login-button" class="login" style="display:none" onclick="location.href='/login.html';">Login</button>
                <div id="user-dropdown" class="user-dropdown" style="display:none">
                    <button class="user-button">
                        <img id="user-avatar" src="" alt="User" class="user-avatar">
                        <span id="username"></span>
                        <span class="dropdown-arrow">â–¼</span>
                    </button>
                    <div class="user-dropdown-content">
                        <a href="/dashboard.html">Dashboard</a>
                        <a href="/auth/logout">Logout</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="content-wrapper">
            <h1>Privacy Policy</h1>
            <div class="content-section">
                <h2>1. Information We Collect</h2>
                <p>We may collect personal information such as your name, email address, and demographic information. We also collect information about your usage of our website and services.</p>
                
                <h2>2. How We Use Information</h2>
                <p>We use the information we collect to provide, maintain, and improve our services, to develop new ones, and to protect our company and users.</p>
                
                <h2>3. Information Sharing</h2>
                <p>We do not share your personal information with companies, organizations, or individuals outside of our company except in the following cases: with your consent, for legal reasons, or to protect rights, property or safety.</p>
                
                <h2>4. Security</h2>
                <p>We work hard to protect our users from unauthorized access to or unauthorized alteration, disclosure, or destruction of information we hold.</p>
                
                <h2>5. Changes</h2>
                <p>Our Privacy Policy may change from time to time. We will post any privacy policy changes on this page and, if the changes are significant, we will provide a more prominent notice.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Check authentication status
            fetch('/api/user')
                .then(response => {
                    document.getElementById('loading-status').style.display = 'none';
                    
                    if (!response.ok) {
                        // User not authenticated, show login button
                        document.getElementById('login-button').style.display = 'block';
                        throw new Error('Not authenticated');
                    }
                    return response.json();
                })
                .then(user => {
                    // User authenticated, show user dropdown
                    document.getElementById('user-dropdown').style.display = 'block';
                    document.getElementById('username').textContent = user.username;
                    document.getElementById('user-avatar').src = user.avatar;
                    
                    // Set up dropdown toggle
                    const userButton = document.querySelector('.user-button');
                    const dropdownContent = document.querySelector('.user-dropdown-content');
                    
                    userButton.addEventListener('click', function() {
                        dropdownContent.classList.toggle('show');
                    });
                    
                    // Close dropdown when clicking outside
                    window.addEventListener('click', function(event) {
                        if (!event.target.matches('.user-button') && 
                            !event.target.matches('.user-avatar') && 
                            !event.target.matches('.dropdown-arrow') &&
                            !event.target.matches('#username')) {
                            if (dropdownContent.classList.contains('show')) {
                                dropdownContent.classList.remove('show');
                            }
                        }
                    });
                })
                .catch(error => {
                    console.log('User not authenticated', error);
                });
        });
    </script>
    
    <script src="script.js"></script>
</body>
</html>
